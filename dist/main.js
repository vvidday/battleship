(()=>{"use strict";var e={426:(e,n,r)=>{r.d(n,{Z:()=>u});var t=r(645),o=r.n(t),i=r(667),a=r.n(i),l=r(964),c=o()((function(e){return e[1]})),s=a()(l);c.push([e.id,'@font-face {\r\n  font-family: "Nunito";\r\n  src: url('+s+');\r\n}\r\n\r\n:root {\r\n  font-size: 10px;\r\n  font-family: "Nunito";\r\n}\r\n\r\nbody {\r\n  background-color: black;\r\n  color: honeydew;\r\n  font-size: 1.6rem;\r\n  text-align: center;\r\n}\r\n\r\n#display-container {\r\n  display: flex;\r\n  width: 90%;\r\n  margin: auto;\r\n}\r\n\r\n#user-container,\r\n#computer-container {\r\n  margin: 0rem 5rem 2.5rem 5rem;\r\n  display: grid;\r\n  grid-template-rows: repeat(10, 1fr);\r\n  width: 80%;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n}\r\n\r\n.wrapper {\r\n  width: 10%;\r\n  padding-bottom: 10%;\r\n  position: relative;\r\n  border-right: 1px solid;\r\n  border-bottom: 1px solid;\r\n}\r\n\r\n#computer-container > * > *:hover {\r\n  background-color: rgba(200, 200, 200, 0.2);\r\n}\r\n\r\n.wrapper:first-child {\r\n  border-left: 1px solid;\r\n}\r\n\r\n.row:first-child > .wrapper {\r\n  border-top: 1px solid;\r\n}\r\n\r\n.content {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\nbutton {\r\n  background-color: navy;\r\n  color: honeydew;\r\n  border: 1px solid whitesmoke;\r\n  font-size: 2rem;\r\n  border-radius: 1.5rem;\r\n  cursor: pointer;\r\n  padding: 0.75rem;\r\n}\r\n\r\nbutton:hover {\r\n  transform: scale(110%);\r\n}\r\n\r\n#change-axis-button {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.invisible {\r\n  visibility: hidden;\r\n}\r\n\r\n.grid-container {\r\n  width: 50%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n@media screen and (min-width: 1600px) {\r\n  body {\r\n    font-size: 2rem;\r\n  }\r\n  #display-container {\r\n    width: 80%;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 900px) {\r\n  .grid-container {\r\n    width: 100%;\r\n  }\r\n\r\n  #display-container {\r\n    width: 70%;\r\n    flex-direction: column;\r\n  }\r\n}\r\n',""]);const u=c},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var r=e(n);return n[2]?"@media ".concat(n[2]," {").concat(r,"}"):r})).join("")},n.i=function(e,r,t){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(t)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);t&&o[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),n.push(c))}},n}},667:e=>{e.exports=function(e,n){return n||(n={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},695:e=>{var n={};e.exports=function(e){if(void 0===n[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}n[e]=r}return n[e]}},379:e=>{var n=[];function r(e){for(var r=-1,t=0;t<n.length;t++)if(n[t].identifier===e){r=t;break}return r}function t(e,t){for(var i={},a=[],l=0;l<e.length;l++){var c=e[l],s=t.base?c[0]+t.base:c[0],u=i[s]||0,d="".concat(s," ").concat(u);i[s]=u+1;var f=r(d),p={css:c[1],media:c[2],sourceMap:c[3]};-1!==f?(n[f].references++,n[f].updater(p)):n.push({identifier:d,updater:o(p,t),references:1}),a.push(d)}return a}function o(e,n){var r=n.domAPI(n);return r.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r.update(e=n)}else r.remove()}}e.exports=function(e,o){var i=t(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var l=r(i[a]);n[l].references--}for(var c=t(e,o),s=0;s<i.length;s++){var u=r(i[s]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}i=c}}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n),n}},795:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(r){!function(e,n,r){var t=r.css,o=r.media,i=r.sourceMap;o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(t,e)}(n,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},964:(e,n,r)=>{e.exports=r.p+"e4eb7682710458841b10.ttf"}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t](i,i.exports,r),i.exports}r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var n=r.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");t.length&&(e=t[t.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e=r(379),n=r.n(e),t=r(795),o=r.n(t),i=r(695),a=r.n(i),l=r(216),c=r.n(l),s=r(426),u={styleTagTransform:function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}},setAttributes:function(e){var n=r.nc;n&&e.setAttribute("nonce",n)},insert:function(e){var n=a()("head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(e)}};u.domAPI=o(),u.insertStyleElement=c(),n()(s.Z,u),s.Z&&s.Z.locals&&s.Z.locals;const d=(e,n)=>({isComputer:function(){return e},attack:function(r,t){let o=n.receiveAttack(r,t);return G(!e,r,t,o),n.isGameOver()?"won":o},randomAttack:function(){let r=null;do{let t=Math.floor(10*Math.random()),o=Math.floor(10*Math.random());console.log(t,o),r=n.receiveAttack(t,o),G(!e,t,o,r),console.log(r)}while("repeat"===r);return n.isGameOver()?"won":r}}),f=()=>{let e=[];for(let n=0;n<10;n++){let n=[];for(let e=0;e<10;e++)n.push(0);e.push(n)}let n=new Map;return{placeShip:function(r,t,o,i){if(o<0||o>9||i<0||i>9)return!1;if("x"===t){if(i+r>10)return!1}else if(o+r>10)return!1;for(let n=0;n<r;n++)if("x"===t){if(0!=e[o][i+n])return!1}else if(0!=e[o+n][i])return!1;const a=(e=>{let n=!1,r=[];for(let n=0;n<e;n++)r.push(0);return{hit:function(t){return!(t<0||t>=e||0!==r[t]||(r[t]=1,r.filter((e=>1===e)).length===e&&(n=!0),0))},isSunk:function(){return n}}})(r);for(let n=0;n<r;n++)"x"===t?e[o][i+n]=a:e[o+n][i]=a;return n.set(a,10*o+i),!0},receiveAttack:function(r,t){if(r<0||r>9||t<0||t>9)return!1;if(0===e[r][t])return e[r][t]=1,"miss";if(1===e[r][t])return"repeat";{let o=n.get(e[r][t]),i=Math.floor(o/10),a=o%10;if(i===r)return e[r][t].hit(t-a)?"hit":"repeat";if(a===t)return e[r][t].hit(r-i)?"hit":"repeat"}},isGameOver:function(){for(let e of n.keys())if(!e.isSunk())return!1;return!0}}},p=(()=>{let e=null,n=null,r=null,t=null,o=0;function i(){n=f()}function a(e){P(),j("computer"===e?"You lose! Better luck next time.":"Congratulations, you win!")}return{playerAttack:function(e,n){let o=t.attack(e,n);"repeat"!==o&&(P(),"won"!==o?"won"!==r.randomAttack()?I():a("computer"):a("player"))},startGame:function(){e=f(),r=d(!0,n),t=d(!1,e),function(e){let n=null;for(let r=1;r<=5;r++)do{let t=Math.floor(10*Math.random()),o=Math.floor(10*Math.random());n=Math.random()<.5?e.placeShip(r,"x",t,o):e.placeShip(r,"y",t,o)}while(!n)}(e),I(),j("Game on! Choose a square to attack!")},resetGame:function(){e=null,n=null,r=null,t=null,o=0,i()},attemptPlace:function(e,r,t){return console.log(e,r,t),!!n.placeShip(5-o,t,e,r)&&(o+=1,!0)},startSelection:i}})(),m=document.getElementById("user-container"),h=document.getElementById("computer-container"),v=document.getElementById("reset-button"),g=document.getElementById("change-axis-button"),y=document.getElementById("status-update"),b="teal",x="cornflowerblue";let w="x",E=0;function k(){for(let e=0;e<10;e++){const e=document.createElement("div");e.classList.add("row");const n=document.createElement("div");n.classList.add("row");for(let r=0;r<10;r++){const r=document.createElement("div");r.classList.add("wrapper");const t=document.createElement("div");t.classList.add("content"),r.appendChild(t),e.appendChild(r);const o=document.createElement("div");o.classList.add("wrapper");const i=document.createElement("div");i.classList.add("content"),o.appendChild(i),n.appendChild(o)}m.appendChild(e),h.appendChild(n)}}function C(e,n){for(let r of m.children)for(let t of r.children)t.addEventListener(n,e)}function M(e,n){for(let r of m.children)for(let t of r.children)t.removeEventListener(n,e)}function A(e,n){let r=5-E,t=Array.from(e.parentElement.children).indexOf(e),o=Array.from(e.parentElement.parentElement.children).indexOf(e.parentElement);if("x"===n){if(t+r<=10)for(let n=0;n<r;n++){let r=e.parentElement.children[t+n];r.style.backgroundColor!=x&&(r.style.backgroundColor=b)}}else if(o+r<=10)for(let n=0;n<r;n++){let r=e.parentElement.parentElement.children[o+n].children[t];r.style.backgroundColor!=x&&(r.style.backgroundColor=b)}}function L(){for(let e of m.children)for(let n of e.children)n.style.backgroundColor===b&&(n.style.backgroundColor="black")}function S(){let e=this,n=Array.from(e.parentElement.children).indexOf(e),r=Array.from(e.parentElement.parentElement.children).indexOf(e.parentElement);if(p.attemptPlace(r,n,w)){for(let e of m.children)for(let n of e.children)n.style.backgroundColor===b&&(n.style.backgroundColor=x);if(M((function(){A(this,w)}),"mouseenter"),E+=1,5===E)return M(L,"mouseleave"),M(S,"click"),g.classList.add("invisible"),void p.startGame();C((function(){A(this,w)}),"mouseenter")}}function T(){E=0,C(L,"mouseleave"),C((function(){A(this,w)}),"mouseenter"),C(S,"click")}function O(){let e=Array.from(this.parentElement.children).indexOf(this),n=Array.from(this.parentElement.parentElement.children).indexOf(this.parentElement);p.playerAttack(n,e)}function I(){for(let e=0;e<10;e++){const n=h.children[e];for(let e=0;e<10;e++)n.children[e].addEventListener("click",O)}}function P(){for(let e=0;e<10;e++){const n=h.children[e];for(let e=0;e<10;e++)n.children[e].removeEventListener("click",O)}}function G(e,n,r,t){let o=null;o=e?h.children[n].children[r]:m.children[n].children[r],console.log(o),"hit"===t?(o.style.backgroundColor="crimson",o.firstChild.textContent="X"):"miss"===t&&(o.style.backgroundColor="grey")}function j(e){y.textContent=e}g.onclick=function(){M((function(){A(this,w)}),"mouseenter"),w="x"===w?"y":"x",C((function(){A(this,w)}),"mouseenter")},v.addEventListener("click",(()=>{p.resetGame(),j("Selection Phase - Position your battleships!"),m.innerHTML="",h.innerHTML="",g.classList.contains("invisible")&&g.classList.remove("invisible"),k(),T()})),k(),p.startSelection(),T()})()})();